

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Scheduling &mdash; PipelineWise  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/pipelinewise.png"/>
  
  
  
    <link rel="canonical" href="https://docs.ansible.com/ansible/latest/user_guide/scheduling.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metadata Columns" href="metadata_columns.html" />
    <link rel="prev" title="Command Line Interface" href="cli.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> PipelineWise
          

          
          </a>

          
            
            
              <div class="version">
                0.21.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation_guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation_guide/creating_pipelines.html">Creating Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation_guide/running_pipelines.html">Running Pipelines</a></li>
</ul>
<p class="caption"><span class="caption-text">Concept</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concept/singer.html">Singer.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concept/replication_methods.html">Replication Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concept/fastsync.html">Fast Sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concept/linux_pipes.html">Linux Pipes in PipelineWise</a></li>
</ul>
<p class="caption"><span class="caption-text">Using PipelineWise</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="yaml_config.html">YAML configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="encrypting_passwords.html">Encrypting Passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="#multi-server-cluster">Multi-Server Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata_columns.html">Metadata Columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_changes.html">Schema Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformations.html">Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="alerts.html">Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="resync.html">Resync Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integration</a></li>
</ul>
<p class="caption"><span class="caption-text">Connectors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../connectors/taps.html">Taps (Data Sources)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectors/taps.html#configuring-taps">Configuring taps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectors/targets.html">Targets (Destinations)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectors/targets.html#configuring-the-targets">Configuring the targets</a></li>
</ul>
<p class="caption"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project/contribution.html">Contribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project/about.html">Project</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PipelineWise</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Scheduling</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user_guide/scheduling.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scheduling">
<span id="id1"></span><h1>Scheduling<a class="headerlink" href="#scheduling" title="Permalink to this headline">¶</a></h1>
<p>Scheduling and running PipelineWise tasks automatically is not part of the PipelineWise
package but any task scheduler that can run Unix CLI commands can trigger PipelineWise
jobs to run. Both Single Server and <a class="reference internal" href="#multi-server-cluster"><span class="std std-ref">Multi-Server Cluster</span></a> installations are achievable.</p>
<p>Let’s say you have 5 microservice databases that you want to replicate to Amazon Redshift
and <code class="docutils literal notranslate"><span class="pre">pipelinewise</span> <span class="pre">status</span></code> output looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pipelinewise status

Tap ID        Tap Type     Target ID   Target Type       Enabled    Status    Last Sync    Last Sync Result
------------  ----------   ----------  ----------------  ---------  --------  -----------  ------------------
microserv_1   tap-mysql    redshift    target-redshift   True       ready                  unknown
microserv_2   tap-mysql    redshift    target-redshift   True       ready                  unknown
microserv_3   tap-postgres redshift    target-redshift   True       ready                  unknown
microserv_4   tap-postgres redshift    target-redshift   True       ready                  unknown
microserv_5   tap-postgres redshift    target-redshift   True       ready                  unknown
<span class="m">5</span> pipeline<span class="o">(</span>s<span class="o">)</span>
</pre></div>
</div>
<p>Since every pipeline runs, logs and manages state files independently, you’ll need to run
5 commands independently. For example if using
<a class="reference external" href="https://en.wikipedia.org/wiki/Cron/">Unix Cron</a> you can create the following crontab:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>*/5 *   * * * pipelinewise run_tap --tap microserv_1 --target redshift <span class="c1"># Sync every 5 minutes</span>
  <span class="m">0</span> *   * * * pipelinewise run_tap --tap microserv_2 --target redshift <span class="c1"># Sync ever hour</span>
  <span class="m">0</span> */3 * * * pipelinewise run_tap --tap microserv_3 --target redshift <span class="c1"># Sync every three hours</span>
  <span class="m">0</span> <span class="m">0</span>   * * * pipelinewise run_tap --tap microserv_4 --target redshift <span class="c1"># Sync every midnight</span>
  <span class="m">0</span> <span class="m">0</span>   * * <span class="m">6</span> pipelinewise run_tap --tap microserv_5 --target redshift <span class="c1"># Sync every Saturday</span>
</pre></div>
</div>
<p>PipelineWise is tested and can run with at least the following
schedulers:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Cron/">Unix Cron</a> Unix Cron - This is the simplest option
for a single server installation.</p></li>
<li><p><a class="reference external" href="https://github.com/jhuckaby/Cronicle/">Cronicle</a> - Cronicle is a reasonably good and
relatively simple tool to schedule PipelineWise jobs in both Single Server and Multi-Server
cluster installations.</p></li>
<li><p><a class="reference external" href="https://airflow.apache.org/">Apache Airflow</a> - Airflow is a robust and mature tool to
schedule and monitor workflows.</p></li>
</ul>
</div>
<div class="section" id="multi-server-cluster">
<span id="id3"></span><h1>Multi-Server Cluster<a class="headerlink" href="#multi-server-cluster" title="Permalink to this headline">¶</a></h1>
<p>Running Multi-Server Cluster requires a <a class="reference external" href="https://en.wikipedia.org/wiki/Network_File_System">Network File System</a>
that is accessible from every host in the PipelineWise cluster.
(<a class="reference external" href="https://aws.amazon.com/efs/">Amazon EFS</a>, <a class="reference external" href="https://cloud.google.com/filestore/">Google FileStore</a> or similar)</p>
<p>Network File System is required because PipelineWise keeps runtime configuration files in
a common place on the host machine at <code class="docutils literal notranslate"><span class="pre">${HOME}/.pipelinewise</span></code> directory. If you run
PipelineWise commands on multiple nodes that operate on the same project, then
every node has to read/write into the same directory, doesn’t matter where the nodes are
located. This is typically done by mounting <code class="docutils literal notranslate"><span class="pre">${HOME}/.pipelinewise</span></code> on every node to
a shared directory on NFS/EFS.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are plans to store <code class="docutils literal notranslate"><span class="pre">${HOME}/.pipelinewise</span></code> runtime configuration files
optionally on different data stores, like S3, RDBMs or on document stores like
Couchbase or MongoDB. Once it is implemented, Multi-Server Cluster installation
will not require NFS/EFS.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="metadata_columns.html" class="btn btn-neutral float-right" title="Metadata Columns" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cli.html" class="btn btn-neutral float-left" title="Command Line Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, TransferWise Ltd.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>